{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./Scheduler.css';import axios from'axios';import ScheduleComponent from'./ScheduleComponent';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE=\"http://localhost:3001\";function Scheduler(){const[schedule,setSchedule]=useState({startTime:'',endTime:'',deviceId:''});const[schedules,setSchedules]=useState([]);useEffect(()=>{fetchSchedules();},[]);const fetchSchedules=async()=>{try{const response=await axios.get(\"\".concat(API_BASE,\"/schedules\"));setSchedules(response.data);}catch(error){console.error('Error fetching schedules:',error);}};const handleSubmit=async event=>{event.preventDefault();try{await axios.post(\"\".concat(API_BASE,\"/newschedule\"),schedule);alert('Schedule set successfully');fetchSchedules();}catch(error){console.error('Error setting schedule:',error);}};const deleteSchedule=async id=>{try{await axios.delete(\"\".concat(API_BASE,\"/deleteschedule/\").concat(id));const response=await axios.get(\"\".concat(API_BASE,\"/schedules\"));setSchedules(response.data);}catch(error){console.error('Error deleting schedule:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"scheduler\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Device Scheduler\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"scheduler-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:schedule.startTime,onChange:e=>setSchedule({...schedule,startTime:e.target.value})}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:schedule.endTime,onChange:e=>setSchedule({...schedule,endTime:e.target.value})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:schedule.deviceId,onChange:e=>setSchedule({...schedule,deviceId:e.target.value}),placeholder:\"Device ID\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Set Schedule\"})]}),schedules.map(sch=>/*#__PURE__*/_jsx(ScheduleComponent,{schedule:sch,deleteSchedule:deleteSchedule},sch._id))]});}export default Scheduler;","map":{"version":3,"names":["React","useState","useEffect","axios","ScheduleComponent","jsx","_jsx","jsxs","_jsxs","API_BASE","Scheduler","schedule","setSchedule","startTime","endTime","deviceId","schedules","setSchedules","fetchSchedules","response","get","concat","data","error","console","handleSubmit","event","preventDefault","post","alert","deleteSchedule","id","delete","className","children","onSubmit","type","value","onChange","e","target","placeholder","map","sch","_id"],"sources":["C:/Users/saudk/Desktop/Senior/Project/client/src/Scheduler.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Scheduler.css';\r\nimport axios from 'axios';\r\nimport ScheduleComponent from './ScheduleComponent';\r\n\r\nconst API_BASE = \"http://localhost:3001\";\r\n\r\nfunction Scheduler() {\r\n    const [schedule, setSchedule] = useState({ startTime: '', endTime: '', deviceId: '' });\r\n    const [schedules, setSchedules] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchSchedules();\r\n    }, []);\r\n\r\n    const fetchSchedules = async () => {\r\n        try {\r\n            const response = await axios.get(`${API_BASE}/schedules`);\r\n            setSchedules(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching schedules:', error);\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            await axios.post(`${API_BASE}/newschedule`, schedule);\r\n            alert('Schedule set successfully');\r\n            fetchSchedules();\r\n        } catch (error) {\r\n            console.error('Error setting schedule:', error);\r\n        }\r\n    };\r\n\r\n    const deleteSchedule = async (id) => {\r\n        try {\r\n            await axios.delete(`${API_BASE}/deleteschedule/${id}`);\r\n            const response = await axios.get(`${API_BASE}/schedules`);\r\n            setSchedules(response.data);\r\n        } catch (error) {\r\n            console.error('Error deleting schedule:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"scheduler\">\r\n            <h4>Device Scheduler</h4>\r\n            <form onSubmit={handleSubmit} className=\"scheduler-form\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"datetime-local\"\r\n\t\t\t\t\tvalue={schedule.startTime}\r\n\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\tsetSchedule({ ...schedule, startTime: e.target.value })\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"datetime-local\"\r\n\t\t\t\t\tvalue={schedule.endTime}\r\n\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\tsetSchedule({ ...schedule, endTime: e.target.value })\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={schedule.deviceId}\r\n\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\tsetSchedule({ ...schedule, deviceId: e.target.value })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tplaceholder=\"Device ID\"\r\n\t\t\t\t/>\r\n                <button type=\"submit\">Set Schedule</button>\r\n            </form>\r\n            {schedules.map(sch => (\r\n                <ScheduleComponent key={sch._id} schedule={sch} deleteSchedule={deleteSchedule} />\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Scheduler;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}